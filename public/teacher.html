<!DOCTYPE html>
    <html lang="jp">
    <head>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
    
        <!--icon-->
        <link rel="icon" href="./img/oral-icon.svg" type="image/svg+xml">
    
        <!--css-->
        <link rel="stylesheet" href="/css/stylesheet-index.css">
        <link rel="stylesheet" href="/css/stylesheet-loading.css">
    
        <!--script-->
        <script type="text/javascript" src="./js/loading.js"></script>
        
        <title>先生用画面</title>
    </head>
    
    <!--loading-->
    <div id="loader"> 
        <div class="spinner">
            <div class="rect1"></div>
            <div class="rect2"></div>
            <div class="rect3"></div>
            <div class="rect4"></div>
            <div class="rect5"></div>
        </div>
    </div>
    
    <body>
        <!--<header>
            <div class="container">
                <img class="header-logo" width="150" height="70" src="./img/ISDL_logo.png">-->
                <!--
                <div class="header-list">
                    <ul>
                        <li><a href="./about.html">about</a></li>
                        <li><a href="./goods.html">goods</a></li>
                        <li><a href="./member.html">member</a></li>
                        <li><a href="./schedule.html">schedule</a></li>
                    </ul>
                </div>
                -->
            <!--</div>
        </header>-->
        
        <!--ここからサイドバーのところ-->
        <div class="header">
            <div class="container">
                <img class="header-logo" width="150" height="70" src="./img/ISDL_logo.png">
            </div>
        </div>
        <input type="checkbox" class="openSidebarMenu" id="openSidebarMenu">
        <label for="openSidebarMenu" class="sidebarIconToggle">
          <div class="spinner diagonal part-1"></div>
          <div class="spinner horizontal"></div>
          <div class="spinner diagonal part-2"></div>
        </label>
        <div id="sidebarMenu">
          <ul class="sidebarMenuInner">
            <li>MENU <span>sub menu</span></li>
            <li><a href="./status.html" target="_blank">返信状況</a></li>
            <li><a href="" target="_blank">機能A</a></li>
            <li><a href="" target="_blank">機能B</a></li>
            <li><a href="" target="_blank">機能C</a></li>
            <li><a href="" target="_blank">機能D</a></li>
          </ul>
        </div>
        <div id='center' class="main center">
          
            <div class="top-wrapper">
                <ul id="messages"></ul>
                <form id="form" action="">
                    <input id="input" autocomplete="off" /><button>Send</button>
                </form>
            </div>
            <div class="middle-wrapper"></div>
            <div class="bottom-wrapper"></div>
    
           
            
    
            <footer>
                <div class="container">
                    <a>@2024 ISDL Created by Yusuke Okahata ＆ Naoki Kadoya YYYY/MM/DD<br>ver1.0.0</a>
                </div>
            </footer>    
          
        </div>
      
 
       
    <script src="/socket.io/socket.io.js"></script>
    <script>
      let socket = io();

      const form = document.getElementById("form");
      const input = document.getElementById("input");
      const messages = document.getElementById("messages");
      //console.log(form);

      form.addEventListener("submit", function (e) {
        e.preventDefault();
        if (input.value) {
          socket.emit("chat message", input.value);
          input.value = "";
        }
      });

      socket.on("chat message", function (msg) {
        let item = document.createElement("li");
        item.textContent = msg;
        messages.appendChild(item);
        window.scrollTo(0, document.body.scrollHeight);
      });
    </script>

    </body>
</html>